<!DOCTYPE html>
<html>
<head>
	<title>A* Algorithm</title>
	<script src="js/jquery-v.1.11.1-min.js"></script>
	<script src="js/graph.js"></script>
	<script src="js/astar.js"></script>
	<script src="js/heuristics.js"></script>
	<script type="text/javascript">
		window.onload = init;
		var world = null;
		// Initialize everything
		function init () {
			debugMsg("Initializing everything...");

			// Set up world
			world = new Graph (30, 30);
			world.init(0.15);
			world.assignTable("graph");
			world.constructTable();

			// Set up heurtistics
			var h = new Heuristics ();
			
			// Set up A* Context
			var astar = new AStar (world, h.euclidean);
			astar.init();

			initForms();
		}

		function initForms () {
			var wall_amt_input = $("input#wall-amt");
			var wall_amt_btn = $("button#wall-amt-btn");

			var n_input = $("input#n");
			var m_input = $("input#m");
			var dimensions_btn = $("button#dimensions-btn");

			wall_amt_btn.click(function () {
				var new_wall_amt = parseFloat(wall_amt_input.val());
				world.reinit(world.n, world.m, new_wall_amt);
				world.constructTable();
			});

			dimensions_btn.click(function () {
				var new_n = parseInt(n_input.val());
				var new_m = parseInt(m_input.val());
				world.reinit(new_n, new_m, world.wall_amt);
				world.constructTable();
			});
		}
	</script>
	<style type="text/css">
		td {
			padding: 10px;
			border: 1px solid #000;
		}
		.param {
			margin-bottom: 20px;
		}
	</style>
</head>
<body>
	<header>
		<h1>A* Algorithm</h1>
	</header>

	<div style="float: left;">	
		<table id="graph" cellspacing="0">
		</table>
	</div>

	<div style="float: left; margin-left: 15px;">
		<div class="param">
			Amount of walls: 
			<input type="text" size="10" name="wall-amt" id="wall-amt" value="" /><br />
			<button id="wall-amt-btn">Update</button>
		</div>
		<div class="param">
			Dimensions: 
			<input type="text" size="3" name="n" id="n" value="" />
			<input type="text" size="3" name="m" id="m" value="" /><br />
			<button id="dimensions-btn">Update</button>
		</div>
	</div>
</body>
</html>